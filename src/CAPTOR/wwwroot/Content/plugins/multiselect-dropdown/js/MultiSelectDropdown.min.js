$(document).ready(function(){var r=1,n,t,i,u=$(".animation-enabled-for-multiselect").attr("data-id");$("body").on("mouseenter, focus",".multiselect-form-control",function(){i=$(this);n=$(this).attr("data-id");n=n-100;t=".multiselect-dropdown-selector:eq("+n+")";var f=$(".multiselect-form-group").width(),r=f-21;f>=1&&($(".multiselectdd-section").css("width",f),u==999?(r=r+20,$(".multiselect-form-control").css("width",r)):$(".multiselect-form-control").css("width",r),$(t).css("display","block"))});$(".multiselect-form-control, .multiselect-dropdown-icon").focusout(function(){r==1&&($(i).click(),$(t).css("display","none"))});$(".multiselect-dropdown-icon").click(function(){n=$(this).prev().attr("data-id");n=n-100;t=".multiselect-dropdown-selector:eq("+n+")";$(this).prev().focus();i=$(this).prev();$(t).css("display","block")});$("body").on("mouseenter",".multiselectdd-section",function(){r=0});$("body").on("mouseleave",".multiselectdd-section",function(){$(i).click();$(i).blur();$(t).css("display","none");r=1});window.onresize=function(){var n=$(".multiselect-form-group").width();n=n-21;n>=1&&(u==999?(n=n+20,$(".multiselect-form-control").css("width",n)):$(".multiselect-form-control").css("width",n))};$("body").on("click, mouseenter, mouseleave",".right-sidebar-toggle, .container-fluid, .sidebar-minify-btn, .divider",function(){var n=$(".multiselect-form-group").width();n=n-21;n>=1&&(u==999?(n=n+20,$(".multiselect-form-control").css("width",n)):$(".multiselect-form-control").css("width",n))});$.prototype.SearchMultiSelect.prototype._globalStyles[".multiselectdd-section__list-item_selected"]["background-color"]="#555";$.prototype.SearchMultiSelect.prototype._globalStyles[".multiselectdd-section__list-item_selected:hover, .multiselectdd-section__list-item_selected.multiselectdd-section__list-item_hover"]["background-color"]="#555";$.prototype.SearchMultiSelect.prototype._globalStyles[".multiselectdd-section__list-item:active, .multiselectdd-section__list-item_selected:active"]["background-color"]="#555"}),function(n){var i="",t=function(n){i=n.field_id;this.init(n)},r;t.prototype={instances:[],_coldInit:0,get:function(t,i,r){var o=this,e,u,f;if(typeof t=="string")return(t=t.toLowerCase(),typeof r=="undefined"&&(r=!0),e=function(t){r&&o.trigger("get",new n.Event(t))},e("get:"+t),u={},f={},typeof u[t]=="string"&&(t=u[t]),typeof f[t]=="function")?(t=f[t],typeof this[t]!="function")?void 0:(typeof i=="undefined"&&(i=Object.create(null)),this[t](i)):typeof this._props[t]!="undefined"?this._props[t]:void 0},set:function(t,i,r,u){var l=this,c,o,f,e,s,h;if(typeof t=="undefined")return!1;if(typeof t=="object"){o=Object.create(null);for(f in t)t.hasOwnProperty(f)&&(o[f]=this.set(f,t[f]));return o}return typeof t!="string"?!1:(t=t.toLowerCase(),typeof u=="undefined"&&(u=!0),e=function(t){if(u){var r=new n.Event(t);r.value=i;l.trigger("set",r)}},e("set:"+t),s={},h={},typeof s[t]=="string"&&(t=s[t]),e("beforeSet:"+t),typeof h[t]=="string")?(t=h[t],typeof this[t]!="function")?!1:(typeof r=="undefined"&&(r=Object.create(null)),c=this[t](i,r),e("afterSet:"+t),c):(this._props[t]=i,e("afterSet:"+t),!0)},getInstances:function(){return this.getInstances.apply(this,arguments)},getInstances:function(t){var r,u,i;if(!arguments.length)return this.instances;for(typeof t!="object"&&(t=Object.create(null)),r=n.inArray(typeof t.name,["string","number"])>-1?t.name:null,u=[],i=0;i<this.instances.length;i++)(r===null||this.instances[i].get("name")==r)&&u.push(this.instances[i]);return u},removeInstances:function(t){var u,r,i;if(typeof t=="object"){for(u=typeof t.name!="string"?null:t.name,r=[],i=0;i<this.instances.length;i++){if(this.instances[i].get("name")==u){n(this.instances[i].get("dbox")).detach();continue}r.push(this.instances[i])}this.instances=r}},_targetEvents:{click:{name:"click",event:"click"},keydown:{name:"keydown",event:"keydown",dbox_input:!0},keyup:{name:"keyup",event:"keyup",dbox_input:!0},hover:{name:"hover",event:"hover"},focus:{name:"focus",event:"focus"},focusout:{name:"focusout",event:"focusout"},change:{name:"change",event:"change"}},_eventCheckInputEmpty:function(n){this.fx.isTextInput(n.target)&&!n.target.value.trim()&&this.trigger("input:empty",n)},_eventDefaultInputEmpty:function(){this.deselectAll()},_eventDefaultSet:function(){this.trigger(arguments[1].type,arguments[1])},_eventDefaultGet:function(){this.trigger(arguments[1].type,arguments[1])},_eventSetList:function(){var n=arguments[1];this.set("list",n.value,null,!1);this.reInitList()},_eventWindowResize:function(){for(var n=0;n<this.instances.length;n++)this.instances[n].isActive()&&(this.instances[n]._calcListContainerHeight(),this.instances[n].calcPosition())},_eventDefaultKeyUp:function(t){var i=this,u=i.get("target"),e=i.get("dbox_input"),o=t.keyCode,r=i.get("list"),h=i.get("dbox"),f=t.currentTarget,s=[37,38,39,40,9,13,18,17,16,20,27];i._isDBoxInput(t.target)?i.fx.isTextInput(u)&&(u.value=e.value):f==u&&n.inArray(t.keyCode,s)==-1&&(e.value=u.value);clearTimeout(i._timers.autoComplete);i._timers.autoComplete=setTimeout(function(){var t,u,c,a,e,l;if(i.get("autoComplete")&&!(n.inArray(o,s)>-1)){for(c=n(".multiselectdd-section__list-item",h),t=f.value.toLowerCase(),t=i.fx.msplit([";",","],t),t=t[t.length-1],u=0;u<c.length;u++)a=parseInt(c[u].getAttribute("data-multiselectddid")),e=n(c[u]),t?i._optionFiltersMatcher(i.get("optionFilters"),t,r[a].label)?e.removeClass("multiselectdd-section__list-item_hidden"):e.addClass("multiselectdd-section__list-item_hidden"):e.removeClass("multiselectdd-section__list-item_hidden"),e.removeClass("multiselectdd-section__list-item_hover");i._isMobileState()||i.calcPosition()}if(i.get("multiple")&&o==8){for(t=i.fx.trim(f.value," ;,","both"),t=i.fx.msplit([";",","],t),u=0;u<t.length;u++)t[u]=t[u].trim();for(l in r)r.hasOwnProperty(l)&&(r[l].selected=n.inArray(r[l].label.trim(),t)>-1);i.applySelectedToList();i.applySelectedToInput()}},500)},_eventDefaultKeyDownMultipleFalse:function(t){var i=this,l,r,f,o,s=i.get("dbox"),a=i.get("target"),u,h,e,c;if(!i.get("multiple")&&!(n.inArray(t.keyCode,[37,39,9,18,17,16,20,27])>-1))if(t.keyCode==13)i.isActive()?i.close():(i.open(),i._eventFocus.apply(a,[i,t]));else if(n.inArray(t.keyCode,[38,39,40])>-1){if(!i.isActive())return;for(l=n("ul",s).get(0),r=n("li:not(.multiselectdd-section__list-item_hidden)",s),u=-1,f=0,o=r.length;f<o;f++)if(h=n(r[f]),h.hasClass("multiselectdd-section__list-item_selected")){u=f;break}if(t.keyCode==38)e=u-1<0?0:u-1;else if(t.keyCode==40)e=u+1>r.length-1?r.length-1:u+1;else{t.keyCode==39;return}c=parseInt(r[e].getAttribute("data-multiselectddid"));i._selectByID(c);i._calcScrollBarPosition();i.trigger("select",t)}},_eventDefaultKeyDownMultipleTrue:function(t){var u=this,f,c,l=u.get("dbox"),s,i,e,h,r,a,o;if(u.get("multiple")){if(!(n.inArray(t.keyCode,[37,39,9,18,17,16,20,27])>-1)&&t.keyCode==13){if(i=n(".multiselectdd-section__list-item_hover",l),!i.length)return;i=i.get(0);e=u.getSelectedKeys();s=parseInt(i.getAttribute("data-multiselectddid"));h=n.inArray(s,e);h>-1?e[h]=null:e.push(s);u._selectByID(e);u.trigger("select",t);return}if(n.inArray(t.keyCode,[38,40])>-1){for(r=n(".multiselectdd-section__list-item:not(.multiselectdd-section__list-item_hidden)",l),i=-1,f=0,c=r.length;f<c;f++)a=n(r[f]),a.hasClass("multiselectdd-section__list-item_hover")&&(i=f);if(t.keyCode==38)o=i-1<0?0:i-1;else if(t.keyCode==40)o=i+1>r.length-1?r.length-1:i+1;else return;n(r[o]).addClass("multiselectdd-section__list-item_hover");i>-1&&o!=i&&n(r[i]).removeClass("multiselectdd-section__list-item_hover");u._calcScrollBarPosition()}}},_eventFocus:function(t,i){var e,u,r,f=this,s=f.get("list"),l=f.get("dbox"),o,h,c;if(f.open(),o=i.currentTarget||(this instanceof Element?this:null),f.fx.isTextInput(o))if(e=o.getAttribute("data-multiselectdd-value"),e&&(e=e.trim()),e){for(e=f.fx.msplit([",",";"],e),u=0;u<e.length;u++)for(e[u]=e[u].trim(),r=0;r<s.length;r++)if(s[r].value==e[u]){s[r].selected=!0;break}}else for(h=f.fx.msplit([",",";"],f.fx.trim(o.value,",; ","both")),u=0;u<h.length;u++)for(h[u]=h[u].trim(),r=0;r<s.length;r++)s[r].label==h[u]&&(s[r].selected=!0);if(c=n("li",l),c.length)for(c.removeClass("multiselectdd-section__list-item_hidden"),r=0;r<c.length;r++)typeof o.type!="undefined"&&n.inArray(o.type.toLowerCase(),["submit","button"])>-1||n.inArray(o.tagName.toLowerCase(),["submit","body","select"])>-1||n(c[r]).removeClass("multiselectdd-section__list-item_hover");f.get("freeWrite")||f.applySelectedToInput();f.applySelectedToList();f._calcScrollBarPosition();f._calcListContainerHeight()},_initEvents:function(t){var r,f=n("body").get(0),i=this,u;this.events=Object.create(null);u={};for(r in t)t.hasOwnProperty(r)&&typeof t[r]=="function"&&(u[r.replace(/^on/,"")]=t[r]);for(r in t.events)t.events.hasOwnProperty(r)&&typeof t.events[r]=="function"&&(u[r]=t.events[r]);for(r in u)if(u.hasOwnProperty(r))this.on(r,u[r]);this.on("keyup",function(n,t){i._eventCheckInputEmpty(t)});this.on("change",function(n,t){i._eventCheckInputEmpty(t)});this.on("input:empty",i._eventDefaultInputEmpty);this.on("focus",i._eventFocus);this.on("click",i._eventFocus);this.on("focusout",function(n,t){if(!t.relatedTarget){i._timers.focusoutInputs=setTimeout(function(){i.close()},250);return}i._isDBoxInput(t.relatedTarget)||i._isDBoxElement(t.relatedTarget)||i._isTargetElement(t.relatedTarget)||i.close()});n(this.get("dbox_input")).bind("focus",function(){clearTimeout(i._timers.focusoutInputs)});this.on("set",this._eventDefaultSet);this.on("get",this._eventDefaultGet);this.on("afterSet:list",this._eventSetList);i._isColdInit()&&window.addEventListener("resize",i._eventWindowResize.bind(i),!1)},_deactivateInstances:function(n){for(var t=0;t<this.instances.length;t++)this.instances[t]._isDBoxElement(n.target)||this.instances[t]._isTargetElement(n.target)||this.instances[t].isActive()&&this.instances[t].close()},_initTarget:function(){var t=this.get("target"),i;if(t&&typeof t=="object")if(typeof t=="string")t=n(t),this.set("target",t.length?t.get(0):null);else if(t instanceof Element)this.set("target",t);else if(typeof t=="object"&&typeof t.push!="undefined"||Array.isArray(t))for(i=0;i<t.length;i++)if(t[i]instanceof Element){this.set("target",t[i]);break}},trigger:function(t,i){var u,r;if(typeof t=="string"&&(t=t.toLowerCase(),typeof this.events[t]=="object"&&Array.isArray(this.events[t])))for(i&&(i instanceof(window.CustomEvent||new Function)!=!1||i instanceof(window.Event||new Function)!=!1||i instanceof n.Event!=!1)?i instanceof n.Event==!1&&(i=n.Event(i)):i=n.Event(t),u=this.events[t],r=0;r<u.length;r++)typeof u[r]=="function"&&u[r].apply(this,[this,i])},on:function(t,i){var r=this,u=this.get("target"),f=this.get("dbox_input");return typeof t!="string"||typeof i!="function"?!1:(t=t.toLowerCase(),typeof this.events[t]=="object"&&Array.isArray(this.events[t])||(this.events[t]=[],this._targetEvents.hasOwnProperty(t)&&(n(u).bind(this._targetEvents[t].event,function(n){r.trigger(t,n)},null),this._targetEvents[t].dbox_input&&n(f).bind(this._targetEvents[t].event,function(n){r.trigger(t,n)},null))),this.events[t].push(i),!0)},_detectLanguage:function(){var n=(navigator.languages||[])[0]||navigator.language||navigator.systemLanguage||navigator.userLanguage||navigator.browserLanguage||"en-US";return n.split(/[-_]/ig)[0]},_lastLang:"",_texts:{".multiselectdd-section-fade__outside-click-label-text":{en:"Tap to close"},".multiselectdd-section__search-input":{en:"Search"}},getText:function(n,t){return t||(t=this.get("language")||this._detectLanguage()),(this._texts[n]||{})[t]||""},setText:function(n,i,r){var f=!0,u=this instanceof t?!(f=!1)&&Object.getPrototypeOf(this):this;u._texts[i]||(u._texts[i]={});r||(r=!f&&this.get("language")||this._detectLanguage());u._texts[i][r]=n},_globalElems:{fade:void 0},_globalStyles:{".multiselectdd-section":{position:"absolute",display:"block",padding:"0px",height:"auto","box-shadow":"0 0px 8px rgba(0, 0, 0, 0.24)","background-color":"none","border-radius":"3px","margin-top":"-17px"},".multiselectdd-section:after":{position:"absolute","border-left":"10px solid transparent","border-right":"9px solid transparent","border-bottom":"10px solid white",top:"-10px",left:"50%","margin-left":"-10px"},".multiselectdd-section_bottom:after":{content:"''",position:"absolute","border-left":"10px solid transparent","border-right":"9px solid transparent","border-bottom":"none","border-top":"10px solid white",top:"auto",bottom:"-10px",left:"50%","margin-left":"-10px"},".multiselectdd-section__list-container":{position:"relative",margin:"0px",padding:"0px","max-height":"215px","overflow-x":"hidden"},".multiselectdd-section__list-item":{position:"relative",padding:"5px","background-color":"none",color:"#bbb",display:"block","line-height":"100%",cursor:"pointer","font-size":"15px","font-weight":"400"},".multiselectdd-section__list-item:hover, .multiselectdd-section__list-item_hover":{"background-color":"#30373e"},".multiselectdd-section__list-item_selected":{"background-color":"#30373e",color:"#fff"},".multiselectdd-section__list-item_selected:hover, .multiselectdd-section__list-item_selected.multiselectdd-section__list-item_hover":{"background-color":"#30373e"},".multiselectdd-section__list-item:active, .multiselectdd-section__list-item_selected:active":{"background-color":"#30373e",color:"#fff"},".multiselectdd-section__list-item_hidden":{display:"none"},".multiselectdd-section__search-input":{border:"1px solid #a2a2a2",width:"100%","line-height":"100%","font-size":"14px","border-width":"0 0 2px 0",padding:"8px","box-sizing":"border-box"},".multiselectdd-section__search-input-container":{"margin-bottom":"12px",display:"none"},".multiselectdd-section__search-input-container_active":{display:"block"},".multiselectdd-section-fade":{display:"none",width:0,height:0,left:0,top:0},".multiselectdd-section-fade__outside-click-label":{position:"absolute",width:"100%",bottom:0,padding:"10px",background:"black",color:"white","text-align":"center","font-size":"1em","box-sizing":"border-box"},".multiselectdd-section-fade__outside-click-label-text":{},".multiselectdd-section-fade__outside-click-label-icon":{position:"relative","border-radius":"50%","margin-right":"5px",border:"2px solid white",display:"inline-block",height:"16px",width:"16px","vertical-align":"middle"},".multiselectdd-section-fade__outside-click-label-icon:after":{content:"''",position:"absolute",top:"50%",left:"50%",height:"80%",width:"2px",transform:"rotate(45deg)","margin-left":"-1px","margin-top":"-40%",background:"white"},".multiselectdd-section-fade__outside-click-label-icon:before":{content:"''",position:"absolute",top:"50%",left:"50%",height:"80%",width:"2px",transform:"rotate(-45deg)","margin-left":"-1px","margin-top":"-40%",background:"white"},"@media screen and (max-width: 640px)":{".multiselectdd-section":{position:"fixed",width:"80% !important",padding:"0 !important",left:"10% !important",top:"5% !important","max-height":"90%","box-shadow":"none","border-radius":"0px","box-sizing":"border-box"},".multiselectdd-section:after":{content:"none"},".multiselectdd-section__list-container":{"max-height":"none"},".multiselectdd-section__list-item":{padding:"1em","font-size":"1em"},".multiselectdd-section__search-input-container":{"margin-bottom":"12px",display:"block"},".multiselectdd-section__search-input":{"line-height":"1em","font-size":"1em",padding:"1em"},".multiselectdd-section-fade":{width:"100%",height:"100%",position:"fixed",left:0,top:0,"background-color":"rgba(0, 0, 0, 0.33)",display:"block"}},"@media screen and (max-width: 740px)":{"@media screen and (min-resolution: 2dppx)":{}},".multiselectdd-section_hidden":{display:"none"}},_initStyles:function(){n("#multiselectdd-section-style").length||this._buildStyles()},_buildStyles:function(){this._globalStyles["@media screen and (max-width: 740px)"]["@media screen and (min-resolution: 2dppx)"]=this._globalStyles["@media screen and (max-width: 640px)"];var r=n("body"),i=function(n){var r="",t,u;for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)){if(t.match(/^@media/)){r+=t+" {"+i(n[t])+"} ";continue}r+=t+" {";for(u in n[t])Object.prototype.hasOwnProperty.call(n[t],u)&&(r+=u+":"+n[t][u]+";");r+="} "}return r},u=i(this._globalStyles),t=n("#multiselectdd-section-style");t.length||(t=n("<style />"),t.attr("id","multiselectdd-section-style"),r.append(t));t.html(u)},_initProps:function(t){for(var e,i,s={},u=[{key:"name",type:"string"},{key:"list",type:"array"},{key:"autoApply",type:"any",into:"boolean"},{key:"autoPosition",type:"any",into:"boolean"},{key:"autoComplete",type:"any",into:"boolean"},{key:"target",type:"object"},{key:"multiple",type:"any",into:"boolean"},{key:"zIndex",type:"numeric",into:"integer"},{key:"width",type:"any"},{key:"embeddedInput",type:"any",into:"boolean"},{key:"optionFilters",type:"array"},{key:"closeButton",type:"boolean"},{key:"language",type:"string","default":this._detectLanguage()},{key:"freeWrite",type:"any",into:"boolean"}],o,r,f=0;f<u.length;f++)u[f].key=u[f].key.toLowerCase(),"default"in u[f]&&(s[u[f].key]=u[f].default);if(this.set(s),typeof t=="object")for(i in t)if(t.hasOwnProperty(i)){for(o=i.toLowerCase(),r=null,e=0;e<u.length;e++)if(u[e].key.toLowerCase()==o){r=u[e];break}if(r){if(r.type!="any")if(r.type=="array"){if(!Array.isArray(t[i]))throw new Error("Argument data type mismatch (key: '"+i+"')");}else if(r.type=="numeric"){if(isNaN(t[i]))throw new Error("Argument data type mismatch (key: '"+i+"')");}else if(r.type!=typeof t[i])throw new Error("Argument data type mismatch (key: '"+i+"')");r.hasOwnProperty("into")&&(r.into=="boolean"?t[i]=Boolean(t[i]):r.into=="integer"?t[i]=parseInt(t[i]):r.into=="float"&&(t[i]=parseFloat(t[i])));i=="width"&&(t[i]=typeof t.width=="undefined"?"min":n.inArray(t.width,["min","auto"])>-1?t.width:parseInt(t.width));this.set(o,t[i])}}},_initElements:function(){var f=n("body").get(0),e=this.get("language"),t=document.createElement("div"),r,u;this.set("dbox",t);t.className="multiselectdd-section multiselectdd-section_hidden multiselect-dropdown-selector";r=n('<div class="multiselectdd-section__search-input-container"><input class="multiselectdd-section__search-input" placeholder="'+this.getText(".multiselectdd-section__search-input")+'" type="text"><\/div>').get(0);this.set("dbox_input",n("input",r).get(0));t.appendChild(r);Boolean(this.get("embeddedInput"))&&(r.className+=" multiselectdd-section__search-input-container_active");this.set("dbox",t);this.get("zIndex")&&(t.style.zIndex=this.get("zIndex"));t.appendChild(n('<ul class="multiselectdd-section__list-container" id="'+i+'"><\/ul>').get(0));u=this.get("width");u=="auto"?t.style.width=this.get("target").clientWidth+"px":u=="min"||(t.style.width=u+"px");f.appendChild(t)},_initList:function(){var i,s,o,r,e,u;if(!n.isArray(this.get("list")))return this.set("list",[],null,!1),!1;var t=this.get("list"),h=this.get("dbox"),f=[];for(i=0,s=t.length;i<s;i++)n.inArray(typeof t[i],["number","string"])!=-1?f.push({value:t[i].toString(),label:t[i].toString(),selected:!1}):typeof t[i]=="object"&&t[i].hasOwnProperty("value")&&t[i].hasOwnProperty("label")&&(t[i].selected=typeof t[i].selected=="undefined"?!1:Boolean(t[i].selected),f.push(t[i]));t=f;this.set("list",f,null,!1);o=n(".multiselectdd-section__list-container",h).get(0);o.innerHTML="";r=this;for(e in t)t.hasOwnProperty(e)&&(u=document.createElement("li"),u.className="multiselectdd-section__list-item",u.setAttribute("data-multiselectddid",e),n(u).bind("click",function(n){var u=[],i;clearTimeout(r._timers.focusoutInputs);i=parseInt(this.getAttribute("data-multiselectddid"));r.get("multiple")?(t[i].selected=t[i].selected==!1,u=r.getSelectedKeys()):u=[i];r._selectByID(u);r.trigger("select",n);r.calcPosition();r.get("multiple")||r.close()},null),n(u).bind("mouseleave",function(){var t=n(this);t.hasClass("multiselectdd-section__list-item_hover")&&t.removeClass("multiselectdd-section__list-item_hover")},null),u.innerHTML=t[e].label,o.appendChild(u))},init:function(t){var i,r,u,f;this._props=Object.create(null);i=this;r=n("body").get(0);this.events=Object.create(null);this._initProps(t);this._initTarget();this._initElements();this._initEvents(t);this._initList();this._initStyles();this._timers=Object.create(null);this._timers.autoComplete=null;this._timers.focusedInputs=null;this._timers.focusoutInputs=null;u=this.get("target");f=this.get("dbox");i.get("name")&&(u.setAttribute("data-multiselectdd-name",i.get("name")),f.setAttribute("data-multiselectdd-name",i.get("name")));i.on("keydown",function(n,t){i._eventDefaultKeyDownMultipleFalse(t);i._eventDefaultKeyDownMultipleTrue(t)});i.on("keyup",function(n,t){i._eventDefaultKeyUp(t)});i.get("optionFilters")||i.set("optionFilters",[i.defaultOptionFilters.default]);i._isColdInit()&&n(r).bind("click",function(n){i._deactivateInstances(n)},null);this.instances.push(this)},_applyLang:function(t){this._lastLang!=t&&(Object.getPrototypeOf(this)._lastLang=t,n(this._globalElems.fade).find(".multiselectdd-section-fade__outside-click-label-text").html(this.getText(".multiselectdd-section-fade__outside-click-label-text")))},calcPosition:function(){var o=this,s=n("body").get(0),r=this.get("target",null,null),t=this.get("dbox",null,null),u=n(t),i=n(r).offset(),h=r.clientWidth,f=r.clientHeight,c=t.clientWidth,e;u.removeClass("multiselectdd-section_bottom");t.style.left=i.left+14+h/2-(c+o._globalStyles[".multiselectdd-section"].padding.replace(/[px]/gi,"")*2)/2+"px";e=window.scrollY||s.scrollTop;t.clientHeight+i.top+f+12-e>window.innerHeight?(t.style.top=i.top-12-t.clientHeight+"px",u.addClass("multiselectdd-section_bottom")):t.style.top=i.top+f+12+"px"},_calcScrollBarPosition:function(){var i,r=this.get("dbox"),t=n(".multiselectdd-section__list-container",r).get(0),u;if(i=this.get("multiple")?n(".multiselectdd-section__list-item_hover",r):n(".multiselectdd-section__list-item_selected",r),i.length){if(u=i.position().top+t.scrollTop,u<t.clientHeight/2){t.scrollTop=0;return}t.scrollTop=u-t.clientHeight/2}},_calcListContainerHeight:function(){var t=n(this.get("dbox")).find(".multiselectdd-section__list-container").get(0),i;if(this._isMobileState()){i=window.innerHeight/100;t.style.maxHeight=i*90-104+"px";return}t.style.maxHeight&&(t.style.maxHeight="")},_isDBoxElement:function(t){var u=this.get("dbox",null,null),i=n(u).find("*"),r;if(i)for(i=Array.prototype.slice.call(i,0),i.push(u),r=0;r<i.length;r++)if(i[r]==t)return!0;return!1},_isTargetElement:function(t){var u=this.get("target",null,null),i=n(u).find("*"),r;if(i)for(i=Array.prototype.slice.call(i,0),i.push(u),r=0;r<i.length;r++)if(i[r]==t)return!0;return!1},_isDBoxInput:function(n){return this.get("dbox_input")===n},_isMobileState:function(){return window.innerWidth<=640||window.innerWidth<=740&&this.fx.isHDensScreen()},_isBoxBottomState:function(){var n=this.get("dbox",null,null);return Boolean(n.className.match(new RegExp("multiselectdd-section_bottom")))},_isColdInit:function(){return!this.instances.length},getSelectedKeys:function(){for(var i=[],t=this.get("list"),n=0;n<t.length;n++)typeof t[n].selected!="undefined"&&t[n].selected&&i.push(n);return i},getSelectedValues:function(){for(var i=[],t=this.get("list"),n=0;n<t.length;n++)typeof t[n].selected!="undefined"&&t[n].selected&&i.push(t[n].value);return i},getSelectedLabels:function(){for(var i=[],t=this.get("list"),n=0;n<t.length;n++)typeof t[n].selected!="undefined"&&t[n].selected&&i.push(t[n].label);return i},hasValue:function(n){for(var i=this.get("list"),t=0;t<i.length;t++)if(i[t].value===n)return!0;return!1},hasLabel:function(n){for(var i=this.get("list"),t=0;t<i.length;t++)if(i[t].label===n)return!0;return!1},applySelectedToList:function(){var e=this.get("dbox"),u=this.get("list"),i=n("li",e),t,f,r;for(i.removeClass("multiselectdd-section__list-item_selected"),t=0,f=i.length;t<f;t++)r=i[t].getAttribute("data-multiselectddid"),typeof u[r]!="undefined"&&u[r].selected&&n(i[t]).addClass("multiselectdd-section__list-item_selected")},applySelectedToInput:function(){var f=this,e=f.getSelectedValues(),r=f.getSelectedLabels(),t=this.get("target"),o=this.get("dbox_input"),u,i;if(o.value=r.join(";")+(!r.length||!this.get("multiple")?"":";"),u=t.tagName.toLowerCase(),u=="input")f.fx.isTextInput(t)&&(t.value=o.value);else if(u=="textarea")t.value=r.join(";\n")+(!r.length||!this.get("multiple")?"":";\n");else if(u=="select")for(i=0;i<t.options.length;i++)t.options[i].selected=n.inArray(t.options[i].value,e)>-1;t.setAttribute("data-multiselectdd-value",e.join(";")+(!e.length||!this.get("multiple")?"":";"))},select:function(t){var i,f,e,u,r,o;if(typeof t=="object"&&!n.isArray(t)){if(e=!0,typeof t.blank!="undefined"&&(e=Boolean(t.blank)),t.id&&(!isNaN(t.id)||n.isArray(t.id))){this._selectByID(parseInt(t.id));return}if(t.value)i=t.value,f="value";else if(t.label)i=t.label,f="label";else return;if(n.inArray(typeof i,["number","string"])>-1)i=[i];else if(typeof i!="object"||!n.isArray(i))return null;if(!this.get("multiple")&&i.length>1)return null;for(u=this.get("list"),r=0,o=u.length;r<o;r++)n.inArray(u[r][f],i)>-1?u[r].selected=!0:e&&(u[r].selected=!1);this.applySelectedToList();this.applySelectedToInput()}},_selectByID:function(t){var i,r;if(isNaN(t)){if(!n.isArray(t))return}else t=[parseInt(t)];for(r=this.get("list"),i=0;i<r.length;i++)r[i].selected=!1;for(i=0;i<t.length;i++)isNaN(t[i])||r.hasOwnProperty(t[i])&&(r[t[i]].selected=!0);t.length&&(this.applySelectedToInput(),this.applySelectedToList())},_deselectByID:function(t){var i,r;if(isNaN(t)){if(!n.isArray(t))return}else t=[parseInt(t)];for(r=this.get("list"),i=0;i<t.length;i++)isNaN(t[i])||r.hasOwnProperty(t[i])&&(r[t[i]].selected=!1);t.length&&(this.applySelectedToInput(),this.applySelectedToList())},_optionFiltersMatcher:function(t,i,r){if(arguments.length<3)return!0;if(typeof t=="function"&&(t=[t]),!n.isArray(t))return!1;for(var u=0;u<t.length;u++)if(t[u].apply(this,[i,r]))return!0;return!1},defaultOptionFilters:{"default":function(n,t){if(typeof n!="string"||typeof t!="string")return!1;var i=new RegExp(n.toLowerCase().trim());return t=t.toString().toLowerCase(),Boolean(t.match(i))}},_hideItems:function(){},_unhideItems:function(){},deselectAll:function(){for(var t=this.get("list"),n=0,i=t.length;n<i;n++)t[n].selected=!1;this.applySelectedToList();this.applySelectedToInput()},selectAll:function(){var t=this.get("list"),n,i;if(this.get("multiple")){for(n=0,i=t.length;n<i;n++)t[n].selected=!0;this.applySelectedToList();this.applySelectedToInput()}else return null},isActive:function(){var t=this.get("dbox",null,null);return n(t).hasClass("multiselectdd-section_hidden")==!1},close:function(){var t=this.get("dbox",null,null);n(t).addClass("multiselectdd-section_hidden");this._closeFade()},open:function(){var t=this.get("dbox",null,null);n(t).removeClass("multiselectdd-section_hidden");this.calcPosition();this._openFade();this._applyLang(this.get("language",null,null));this._isMobileState()&&this.get("dbox_input").focus()},_openFade:function(){n(this._globalElems.fade).removeClass("multiselectdd-section_hidden")},_closeFade:function(){n(this._globalElems.fade).addClass("multiselectdd-section_hidden")},fx:{isTextInput:function(t){if(t instanceof Node==!1)return!1;var i=t.tagName.toLowerCase();if(i=="input"){if(t.type&&n.inArray(t.type.toLowerCase(),["text","password","email","url","search","tel"])>-1)return!0}else if(i=="textarea")return!0;return!1},isHDensScreen:function(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3||!1},isRetinaScreen:function(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)").matches)||window.devicePixelRatio&&window.devicePixelRatio>=2||!1},msplit:function(n,t){return t=t.replace(new RegExp("["+n.join("")+"]","g"),n[0]),t.split(n[0])},trim:function(t,i,r){if(t=t.split(""),typeof i=="string")i=i.split("");else if(typeof i!="object"||typeof i.push=="undefined")return t.join("");if(typeof r=="undefined"&&(r="both"),r=="both")for(;;){if(!t.length||!(n.inArray(t[0],i)!=-1||n.inArray(t[t.length-1],i)!=-1))break;n.inArray(t[t.length-1],i)!=-1&&t.pop();n.inArray(t[0],i)!=-1&&t.shift()}if(r=="left")for(;;){if(!t.length||n.inArray(t[0],i)==-1)break;t.shift()}if(r=="right")for(;;){if(!t.length||n.inArray(t[t.length-1],i)==-1)break;t.pop()}return t.join("")},rest:function(n,t){return typeof n!="object"?[]:typeof t!="number"?[]:Array.prototype.slice.call(n,t)}}};r=["open","close","isActive","get","set","select","selectAll","deselectAll","on","trigger","getSelectedLabels","getSelectedValues","getSelectedKeys","getText","setText"];n.fn.extend({SearchMultiSelect:function(i){var f,o;if(this.length){var e=t.prototype.getInstances(),u=void 0,s=this[0];for(f=0;f<e.length;f++)if(e[f].get("target")==s){u=e[f];break}if(arguments.length){if(typeof i=="string"){if(n.inArray(i,r)>-1&&(o=t.prototype.fx.rest(arguments,1),typeof u[i]=="function"))return u[i].apply(u,o)}else if(typeof i=="object")return i.target=this[0],new t(i)}else return u}}});n.prototype.SearchMultiSelect.prototype=t.prototype}(jQuery);